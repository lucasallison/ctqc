H 0
H 1
H 2
S 2
S 2
H 2
Rz(3*pi/8) 2
CNOT 2 0
Rz(-3*pi/8) 0
CNOT 2 0
Rz(3*pi/8) 0
Rz(-pi/4) 2
CNOT 2 1
Rz(pi/4) 1
CNOT 2 1
Rz(-pi/4) 1
CNOT 0 1
CNOT 1 0
CNOT 0 1
H 0
Rz(-pi/4) 1
CNOT 1 0
Rz(pi/4) 0
CNOT 1 0
Rz(-pi/4) 0
H 1
M 0
M 1