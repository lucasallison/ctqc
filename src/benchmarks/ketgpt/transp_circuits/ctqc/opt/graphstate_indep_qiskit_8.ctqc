H 0
CNOT 0 1
H 1
H 2
CNOT 2 3
H 3
H 4
CNOT 3 5
CNOT 4 5
H 5
CNOT 0 6
CNOT 1 6
H 6
CNOT 2 7
CNOT 4 7
H 7
M 0
M 1
M 2
M 3
M 4
M 5
M 6
M 7